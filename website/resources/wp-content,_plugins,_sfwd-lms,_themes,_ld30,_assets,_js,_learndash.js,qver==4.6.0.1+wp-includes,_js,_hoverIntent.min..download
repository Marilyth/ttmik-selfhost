var mod_pagespeed_M2ZVflgXAt = "/* eslint-disable no-var */\njQuery(function ($) {\n	var hash = window.location.hash;\n\n	learndashFocusModeSidebarAutoScroll();\n\n	initLoginModal();\n	if ('#login' == hash) {\n		openLoginModal();\n	}\n\n	if ('undefined' !== typeof ldGetUrlVars().login) {\n		var loginStatus = ldGetUrlVars().login;\n\n		if ('failed' == loginStatus) {\n			openLoginModal();\n		}\n	}\n\n	if ('undefined' !== typeof ldGetUrlVars()['ld-topic-page']) {\n		var topicPage = ldGetUrlVars()['ld-topic-page'];\n		var topicIds = topicPage.split('-');\n		var topicId = Object.values(topicIds)[0];\n\n		var lesson = $('#ld-expand-' + topicId);\n		var button = $(lesson).find('.ld-expand-button');\n\n		ld_expand_element(button);\n\n		$('html, body').animate(\n			{\n				scrollTop: $(lesson).offset().top,\n			},\n			500\n		);\n	}\n\n	$('body').on('click', 'a[href=\"#login\"]', function (e) {\n		e.preventDefault();\n		openLoginModal();\n	});\n\n	$('body').on('click', '.ld-modal-closer', function (e) {\n		e.preventDefault();\n		closeLoginModal();\n	});\n\n	$('body').on('click', '#ld-comments-post-button', function (e) {\n		$(this).addClass('ld-open');\n		$('#ld-comments-form').removeClass('ld-collapsed');\n		$('textarea#comment').focus();\n	});\n\n	// Close modal if clicking away\n	/*\n	$('body').on('click', function(e) {\n		if ($('.learndash-wrapper').hasClass('ld-modal-open')) {\n			if ( ! $(e.target).parents('.ld-modal').length && (! $(e.target).is('a'))) {\n				closeLoginModal();\n			}\n		}\n	});\n	*/\n\n	// Close modal on Esc key\n	$(document).on('keyup', function (e) {\n		if (27 === e.keyCode) {\n			closeLoginModal();\n		}\n	});\n\n	$('.learndash-wrapper').on(\n		'click',\n		'a.user_statistic',\n		learndash_ld30_show_user_statistic\n	);\n\n	focusMobileCheck();\n\n	$('body').on('click', '.ld-focus-sidebar-trigger', function (e) {\n		if ($('.ld-focus').hasClass('ld-focus-sidebar-collapsed')) {\n			openFocusSidebar();\n		} else {\n			closeFocusSidebar();\n		}\n	});\n\n	$('body').on('click', '.ld-mobile-nav a', function (e) {\n		e.preventDefault();\n		if ($('.ld-focus').hasClass('ld-focus-sidebar-collapsed')) {\n			openFocusSidebar();\n		} else {\n			closeFocusSidebar();\n		}\n	});\n\n	$('.ld-js-register-account').on('click', function (e) {\n		e.preventDefault();\n\n		$('.ld-login-modal-register .ld-modal-text').slideUp('slow');\n		$('.ld-login-modal-register .ld-alert').slideUp('slow');\n		$(this).slideUp('slow', function () {\n			$('#ld-user-register').slideDown('slow');\n		});\n	});\n\n	// If registration login link filter not defined, allow to replace the register form with login form\n	if ('' == $('.registration-login-link').attr('href')) {\n		$('.registration-login-link').on('click', function (e) {\n			e.preventDefault();\n			$('#learndash_registerform, .registration-login').hide();\n			$(\n				'.registration-login-form, .show-register-form, .show-password-reset-link'\n			).show();\n		});\n		$('.show-register-form').on('click', function (e) {\n			e.preventDefault();\n			$(\n				'.registration-login-form, .show-register-form, .show-password-reset-link'\n			).hide();\n			$('#learndash_registerform, .registration-login').show();\n		});\n	}\n\n	var windowWidth = $(window).width();\n\n	$(window).on('orientationchange', function () {\n		windowWidth = $(window).width();\n	});\n\n	$(window).on('resize', function () {\n		if ($(this).width() !== windowWidth && 1024 >= $(this).width()) {\n			setTimeout(function () {\n				focusMobileResizeCheck();\n			}, 50);\n		}\n	});\n\n	if ($('.ld-course-status-content').length) {\n		var tallest = 0;\n\n		$('.ld-course-status-content').each(function () {\n			if ($(this).height() > tallest) {\n				tallest = $(this).height();\n			}\n		});\n\n		$('.ld-course-status-content').height(tallest);\n	}\n\n	function focusMobileCheck() {\n		if (1024 > $(window).width()) {\n			closeFocusSidebarPageLoad();\n		}\n	}\n\n	function focusMobileResizeCheck() {\n		if (\n			1024 > $(window).width() &&\n			!$('.ld-focus').hasClass('ld-focus-sidebar-collapsed')\n		) {\n			closeFocusSidebar();\n		} else if (\n			1024 <= $(window).width() &&\n			$('.ld-focus').hasClass('ld-focus-sidebar-filtered')\n		) {\n			closeFocusSidebar();\n		} else if (\n			1024 <= $(window).width() &&\n			!$('.ld-focus').hasClass('ld-focus-sidebar-filtered') &&\n			$('.ld-focus').hasClass('ld-focus-sidebar-collapsed')\n		) {\n			openFocusSidebar();\n		}\n	}\n\n	function focusMobileHandleOrientationChange(e) {\n		if (e.matches) {\n			if (\n				1024 <= $(window).width() &&\n				!$('.ld-focus').hasClass('ld-focus-sidebar-filtered') &&\n				$('.ld-focus').hasClass('ld-focus-sidebar-collapsed')\n			) {\n				openFocusSidebar();\n			}\n		}\n	}\n	window\n		.matchMedia('(orientation: landscape)')\n		.addListener(focusMobileHandleOrientationChange);\n\n	function closeFocusSidebarPageLoad() {\n		$('.ld-focus').addClass('ld-focus-sidebar-collapsed');\n		$('.ld-focus').removeClass('ld-focus-initial-transition');\n		$('.ld-mobile-nav').removeClass('expanded');\n		positionTooltips();\n	}\n\n	function closeFocusSidebar() {\n		$('.ld-focus').addClass('ld-focus-sidebar-collapsed');\n		$('.ld-mobile-nav').removeClass('expanded');\n\n		if (\n			$('.ld-focus-sidebar-trigger .ld-icon').hasClass(\n				'ld-icon-arrow-left'\n			)\n		) {\n			$('.ld-focus-sidebar-trigger .ld-icon').removeClass(\n				'ld-icon-arrow-left'\n			);\n			$('.ld-focus-sidebar-trigger .ld-icon').addClass(\n				'ld-icon-arrow-right'\n			);\n		} else if (\n			$('.ld-focus-sidebar-trigger .ld-icon').hasClass(\n				'ld-icon-arrow-right'\n			)\n		) {\n			$('.ld-focus-sidebar-trigger .ld-icon').removeClass(\n				'ld-icon-arrow-right'\n			);\n			$('.ld-focus-sidebar-trigger .ld-icon').addClass(\n				'ld-icon-arrow-left'\n			);\n		}\n\n		positionTooltips();\n	}\n\n	function openFocusSidebar() {\n		focusMobileCheck();\n		$('.ld-focus').removeClass('ld-focus-sidebar-collapsed');\n		$('.ld-mobile-nav').addClass('expanded');\n\n		if (\n			$('.ld-focus-sidebar-trigger .ld-icon').hasClass(\n				'ld-icon-arrow-left'\n			)\n		) {\n			$('.ld-focus-sidebar-trigger .ld-icon').removeClass(\n				'ld-icon-arrow-left'\n			);\n			$('.ld-focus-sidebar-trigger .ld-icon').addClass(\n				'ld-icon-arrow-right'\n			);\n		} else if (\n			$('.ld-focus-sidebar-trigger .ld-icon').hasClass(\n				'ld-icon-arrow-right'\n			)\n		) {\n			$('.ld-focus-sidebar-trigger .ld-icon').removeClass(\n				'ld-icon-arrow-right'\n			);\n			$('.ld-focus-sidebar-trigger .ld-icon').addClass(\n				'ld-icon-arrow-left'\n			);\n		}\n\n		positionTooltips();\n	}\n\n	$('.ld-file-input').each(function () {\n		var $input = $(this),\n			$label = $input.next('label'),\n			labelVal = $label.html();\n\n		$input.on('change', function (e) {\n			var fileName = '';\n			if (this.files && 1 < this.files.length) {\n				fileName = (\n					this.getAttribute('data-multiple-caption') || ''\n				).replace('{count}', this.files.length);\n			} else if (e.target.value) {\n				fileName = e.target.value.split('\\\\').pop();\n			}\n			if (fileName) {\n				$label.find('span').html(fileName);\n				$label.addClass('ld-file-selected');\n				$('#uploadfile_btn').attr('disabled', false);\n			} else {\n				$label.html(labelVal);\n				$label.removeClass('ld-file-selected');\n				$('#uploadfile_btn').attr('disabled', true);\n			}\n		});\n\n		$('#uploadfile_form').on('submit', function () {\n			$label.removeClass('ld-file-selected');\n			$('#uploadfile_btn').attr('disabled', true);\n		});\n\n		// Firefox bug fix\n		$input\n			.on('focus', function () {\n				$input.addClass('has-focus');\n			})\n			.on('blur', function () {\n				$input.removeClass('has-focus');\n			});\n	});\n\n	$('body').on('click', '.ld-expand-button', function (e) {\n		e.preventDefault();\n\n		ld_expand_element($(this));\n\n		positionTooltips();\n	});\n\n	$('body').on('click', '.ld-search-prompt', function (e) {\n		e.preventDefault();\n\n		$('#course_name_field').focus();\n\n		ld_expand_element($(this));\n	});\n\n	function ld_expand_button_state(state, elm) {\n		var $expandText = $(elm)[0].hasAttribute('data-ld-expand-text')\n			? $(elm).attr('data-ld-expand-text')\n			: 'Expand';\n		var $collapseText = $(elm)[0].hasAttribute('data-ld-collapse-text')\n			? $(elm).attr('data-ld-collapse-text')\n			: 'Collapse';\n\n		if ('collapse' == state) {\n			$(elm).removeClass('ld-expanded');\n			if ('false' !== $collapseText) {\n				$(elm).find('.ld-text').text($expandText);\n			}\n		} else {\n			$(elm).addClass('ld-expanded');\n			if ('false' !== $collapseText) {\n				$(elm).find('.ld-text').text($collapseText);\n			}\n		}\n	}\n\n	function ld_expand_element(elm, collapse) {\n		if (collapse === undefined) {\n			collapse = false;\n		}\n\n		var elmParentWrapper = elm.parents('.ld-focus-sidebar');\n		if (\n			'undefined' === typeof elmParentWrapper ||\n			!elmParentWrapper.length\n		) {\n			var elmParentWrapper = elm.parents('.learndash-wrapper');\n		}\n		if (\n			'undefined' === typeof elmParentWrapper ||\n			!elmParentWrapper.length\n		) {\n			return;\n		}\n\n		// Get the button's state\n		var $expanded = $(elm).hasClass('ld-expanded');\n\n		// Get the element to expand\n		if ($(elm)[0] && $(elm)[0].hasAttribute('data-ld-expands')) {\n			var $expands = $(elm).attr('data-ld-expands');\n			if ('undefined' === typeof $expands || !$expands.length) {\n				return;\n			}\n\n			var $expandElm = $(elmParentWrapper).find(\n				'[data-ld-expand-id=\"' + $expands + '\"]'\n			);\n			if ('undefined' === typeof $expandElm || !$expandElm.length) {\n				return;\n			}\n\n			var $expandsChild = $($expandElm).find(\n				'.ld-item-list-item-expanded'\n			);\n\n			if ($expandsChild.length) {\n				$expandElm = $expandsChild;\n			}\n\n			var totalHeight = 0;\n\n			$expandElm.find('> *').each(function () {\n				totalHeight += $(this).outerHeight();\n			});\n\n			$expandElm.attr('data-height', '' + (totalHeight + 50) + '');\n\n			// If the element expands a list\n\n			if (\n				$(elmParentWrapper)\n					.find('[data-ld-expand-id=\"' + $expands + '\"]')[0]\n					.hasAttribute('data-ld-expand-list')\n			) {\n				var $container = $(elmParentWrapper).find(\n					'[data-ld-expand-id=\"' + $expands + '\"]'\n				);\n				var innerButtons = $container.find('.ld-expand-button');\n				if ($expanded) {\n					ld_expand_button_state('collapse', elm);\n					innerButtons.each(function () {\n						ld_expand_element($(this), true);\n					});\n				} else {\n					ld_expand_button_state('expand', elm);\n					innerButtons.each(function () {\n						ld_expand_element($(this));\n					});\n				}\n\n				// If the element expands an item\n			} else if (\n				$(elmParentWrapper).find(\n					'[data-ld-expand-id=\"' + $expands + '\"]'\n				).length\n			) {\n				if ($expanded || true == collapse) {\n					ld_expand_singular_item(\n						elm,\n						$(elmParentWrapper).find(\n							'[data-ld-expand-id=\"' + $expands + '\"]'\n						),\n						$expandElm\n					);\n				} else {\n					ld_collapse_singular_item(\n						elm,\n						$(elmParentWrapper).find(\n							'[data-ld-expand-id=\"' + $expands + '\"]'\n						),\n						$expandElm\n					);\n				}\n			} else {\n				console.log('LearnDash: No expandable content was found');\n			}\n			positionTooltips();\n		}\n	}\n\n	function ld_expand_singular_item(elm, $containerElm, $expandElm) {\n		$containerElm.removeClass('ld-expanded');\n		ld_expand_button_state('collapse', elm);\n\n		$expandElm.css({\n			'max-height': 0,\n		});\n	}\n\n	function ld_collapse_singular_item(elm, $containerElm, $expandElm) {\n		$containerElm.addClass('ld-expanded');\n\n		ld_expand_button_state('expand', elm);\n\n		$expandElm.css({\n			'max-height': $expandElm.data('height'),\n		});\n	}\n\n	$('body').on('click', '.ld-closer', function (e) {\n		ld_expand_element($('.ld-search-prompt'), true);\n	});\n\n	$('body').on('click', '.ld-tabs-navigation .ld-tab', function () {\n		var $tab = $('#' + $(this).attr('data-ld-tab'));\n		if ($tab.length) {\n			$('.ld-tabs-navigation .ld-tab.ld-active').removeClass('ld-active');\n			$('.ld-tabs-navigation .ld-tab').removeAttr('aria-selected');\n			$(this).addClass('ld-active');\n			$(this).attr('aria-selected', 'true');\n			$('.ld-tabs-content .ld-tab-content.ld-visible').removeClass(\n				'ld-visible'\n			);\n			$tab.addClass('ld-visible');\n		}\n		positionTooltips();\n	});\n\n	var $tooltips = $('*[data-ld-tooltip]');\n\n	initTooltips();\n\n	function initTooltips() {\n		// Clear out old tooltips\n\n		if ($('#learndash-tooltips').length) {\n			$('#learndash-tooltips').remove();\n			$tooltips = $('*[data-ld-tooltip]');\n		}\n\n		if ($tooltips.length) {\n			$('body').prepend('<div id=\"learndash-tooltips\"></div>');\n			var $ctr = 1;\n			$tooltips.each(function () {\n				var anchor = $(this);\n				if (anchor.hasClass('ld-item-list-item')) {\n					anchor = anchor.find('.ld-item-title');\n				}\n\n				/**\n				 * Prevent calendar icon from being clickable.\n				 */\n				if (\n					'undefined' !== typeof anchor &&\n					$(anchor).hasClass('ld-status-waiting')\n				) {\n					$(anchor).on('click', function (e) {\n						e.preventDefault();\n						return false;\n					});\n\n					// Also prevent parent <a> from being clickable.\n					var parent_anchor = $(anchor).parents('a');\n					if ('undefined' !== typeof parent_anchor) {\n						$(parent_anchor).on('click', function (e) {\n							e.preventDefault();\n							return false;\n						});\n					}\n				}\n\n				var elementOffsets = {\n					top: anchor.offset().top,\n					left: anchor.offset().left + anchor.outerWidth() / 2,\n				};\n				var $content = $(this).attr('data-ld-tooltip');\n				var $rel_id = Math.floor(Math.random() * 99999);\n\n				//var $tooltip = '<span id=\"ld-tooltip-' + $rel_id + '\" class=\"ld-tooltip\" style=\"top:' + elementOffsets.top + 'px; left:' + elementOffsets.left + 'px;\">' + $content + '</span>';\n				var $tooltip =\n					'<span id=\"ld-tooltip-' +\n					$rel_id +\n					'\" class=\"ld-tooltip\">' +\n					$content +\n					'</span>';\n				$(this).attr('data-ld-tooltip-id', $rel_id);\n				$('#learndash-tooltips').append($tooltip);\n				$ctr++;\n				var $tooltip = $('#ld-tooltip-' + $rel_id);\n				$(this)\n					.on('mouseenter', function () {\n						$tooltip.addClass('ld-visible');\n					})\n					.on('mouseleave', function () {\n						$tooltip.removeClass('ld-visible');\n					});\n			});\n\n			$(window).on('resize', function () {\n				// Reposition tooltips after resizing\n				positionTooltips();\n			});\n\n			$(window)\n				.add('.ld-focus-sidebar-wrapper')\n				.on('scroll', function () {\n					// Hide tooltips so they don't persist while scrolling\n					$('.ld-visible.ld-tooltip').removeClass('ld-visible');\n\n					// Reposition tooltips after scrolling\n					positionTooltips();\n				});\n\n			positionTooltips();\n		}\n	}\n\n	function initLoginModal() {\n		var modal_wrapper = $('.learndash-wrapper-login-modal');\n		if ('undefined' !== typeof modal_wrapper && modal_wrapper.length) {\n			// Move the model to be first element of the body. See LEARNDASH-3503\n			$(modal_wrapper).prependTo('body');\n		}\n	}\n\n	function openLoginModal() {\n		var modal_wrapper = $('.learndash-wrapper-login-modal');\n		if ('undefined' !== typeof modal_wrapper && modal_wrapper.length) {\n			$(modal_wrapper).addClass('ld-modal-open');\n			$(modal_wrapper).removeClass('ld-modal-closed');\n\n			// Removed LEARNDASH-3867 #4\n			$('html, body').animate(\n				{\n					scrollTop: $('.ld-modal', modal_wrapper).offset().top,\n				},\n				50\n			);\n		}\n	}\n\n	function closeLoginModal() {\n		var modal_wrapper = $('.learndash-wrapper-login-modal');\n		if ('undefined' !== typeof modal_wrapper && modal_wrapper.length) {\n			$(modal_wrapper).removeClass('ld-modal-open');\n			$(modal_wrapper).addClass('ld-modal-closed');\n		}\n	}\n\n	function positionTooltips() {\n		if ('undefined' !== typeof $tooltips) {\n			setTimeout(function () {\n				$tooltips.each(function () {\n					var anchor = $(this);\n					var $rel_id = anchor.attr('data-ld-tooltip-id');\n					$tooltip = $('#ld-tooltip-' + $rel_id);\n\n					if (anchor.hasClass('ld-item-list-item')) {\n						//anchor = anchor.find('.ld-item-title');\n						anchor = anchor.find('.ld-status-icon');\n					}\n\n					var parent_focus =\n						jQuery(anchor).parents('.ld-focus-sidebar');\n					var left_post =\n						anchor.offset().left + (anchor.outerWidth() + 10);\n					if (parent_focus.length) {\n						left_post =\n							anchor.offset().left + (anchor.outerWidth() - 18);\n					}\n\n					// Get the main content height\n					var focusModeMainContentHeight =\n						$('.ld-focus-main').height();\n\n					// Current tooltip height\n					var focusModeCurrentTooltipHeight =\n						anchor.offset().top + -3;\n\n					// Position tooltip depending on focus mode or not\n					if (!focusModeMainContentHeight) {\n						var anchorTop = anchor.offset().top + -3;\n						var anchorLeft = anchor.offset().left;\n					} else {\n						anchorTop =\n							focusModeCurrentTooltipHeight <\n							focusModeMainContentHeight\n								? focusModeCurrentTooltipHeight\n								: focusModeMainContentHeight;\n						anchorLeft = left_post;\n					}\n\n					$tooltip\n						.css({\n							top: anchorTop,\n\n							//'left' : anchor.offset().left + (anchor.outerWidth() / 2),\n							//'left': left_post, //anchor.offset().left + (anchor.outerWidth() +10),\n							left: anchorLeft, //anchor.offset().left + (anchor.outerWidth() +10),\n							'margin-left': 0,\n							'margin-right': 0,\n						})\n						.removeClass('ld-shifted-left ld-shifted-right');\n					if ($tooltip.offset().left <= 0) {\n						$tooltip\n							.css({\n								'margin-left': Math.abs($tooltip.offset().left),\n							})\n							.addClass('ld-shifted-left');\n					}\n					var $tooltipRight =\n						$(window).width() -\n						($tooltip.offset().left + $tooltip.outerWidth());\n					if (0 >= $tooltipRight && 360 < $(window).width()) {\n						$tooltip\n							.css({ 'margin-right': Math.abs($tooltipRight) })\n							.addClass('ld-shifted-right');\n					}\n				});\n			}, 500);\n		}\n	}\n\n	$('body').on('click', '#ld-profile .ld-reset-button', function (e) {\n		e.preventDefault();\n\n		$('#ld-profile #course_name_field').val('');\n\n		var searchVars = {\n			shortcode_instance: $('#ld-profile').data('shortcode_instance'),\n		};\n\n		searchVars['ld-profile-search'] = $(this)\n			.parents('.ld-item-search-wrapper')\n			.find('#course_name_field')\n			.val();\n		searchVars['ld-profile-search-nonce'] = $(this)\n			.parents('.ld-item-search-wrapper')\n			.find('form.ld-item-search-fields')\n			.data('nonce');\n\n		$('#ld-profile #ld-main-course-list').addClass('ld-loading');\n\n		$.ajax({\n			type: 'GET',\n			url: ldVars.ajaxurl + '?action=ld30_ajax_profile_search',\n			data: searchVars,\n			success(response) {\n				if ('undefined' !== typeof response.data.markup) {\n					$('#ld-profile').html(response.data.markup);\n					ld_expand_element('#ld-profile .ld-search-prompt', false);\n				}\n			},\n		});\n	});\n\n	$('body').on('submit', '.ld-item-search-fields', function (e) {\n		e.preventDefault();\n\n		var searchVars = {\n			shortcode_instance: $('#ld-profile').data('shortcode_instance'),\n		};\n\n		searchVars['ld-profile-search'] = $(this)\n			.parents('.ld-item-search-wrapper')\n			.find('#course_name_field')\n			.val();\n		searchVars['ld-profile-search-nonce'] = $(this)\n			.parents('.ld-item-search-wrapper')\n			.find('form.ld-item-search-fields')\n			.data('nonce');\n\n		$('#ld-profile #ld-main-course-list').addClass('ld-loading');\n\n		$.ajax({\n			type: 'GET',\n			url: ldVars.ajaxurl + '?action=ld30_ajax_profile_search',\n			data: searchVars,\n			success(response) {\n				if ('undefined' !== typeof response.data.markup) {\n					$('#ld-profile').html(response.data.markup);\n					ld_expand_element('#ld-profile .ld-search-prompt', false);\n				}\n			},\n		});\n	});\n\n	$('body').on('click', '.ld-pagination a', function (e) {\n		e.preventDefault();\n\n		var linkVars = {};\n		var parentVars = {};\n\n		$(this)\n			.attr('href')\n			.replace(/[?&]+([^=&]+)=([^&]*)/gi, function (m, key, value) {\n				linkVars[key] = value;\n			});\n\n		linkVars.pager_nonce = $(this)\n			.parents('.ld-pagination')\n			.data('pager-nonce');\n\n		linkVars.pager_results = $(this)\n			.parents('.ld-pagination')\n			.data('pager-results');\n\n		linkVars.context = $(this).data('context');\n		console.log('linkVars[%o]', linkVars);\n\n		parentVars.currentTarget = e.currentTarget;\n\n		if ('profile' != linkVars.context) {\n			linkVars.lesson_id = $(this).data('lesson_id');\n			linkVars.course_id = $(this).data('course_id');\n\n			if ($('.ld-course-nav-' + linkVars.course_id).length) {\n				linkVars.widget_instance = $(\n					'.ld-course-nav-' + linkVars.course_id\n				).data('widget_instance');\n			}\n		}\n\n		if ('course_topics' == linkVars.context) {\n			$('#ld-topic-list-' + linkVars.lesson_id).addClass('ld-loading');\n			$('#ld-nav-content-list-' + linkVars.lesson_id).addClass(\n				'ld-loading'\n			);\n		}\n\n		if ('course_content_shortcode' == linkVars.context) {\n			parentVars.parent_container = $(parentVars.currentTarget).closest(\n				'.ld-course-content-' + linkVars.course_id\n			);\n			if (\n				'undefined' !== typeof parentVars.parent_container &&\n				parentVars.parent_container.length\n			) {\n				$(parentVars.parent_container).addClass('ld-loading');\n				linkVars.shortcode_instance = $(\n					parentVars.parent_container\n				).data('shortcode_instance');\n			} else {\n				$('.ld-course-content-' + linkVars.course_id).addClass(\n					'ld-loading'\n				);\n				linkVars.shortcode_instance = $(\n					'.ld-course-content-' + linkVars.course_id\n				).data('shortcode_instance');\n			}\n		} else if ('course_lessons' == linkVars.context) {\n			var parent_container;\n\n			// Check if we are within the Course Navigation Widget.\n			if (\n				'undefined' === typeof parentVars.parent_container ||\n				!parentVars.parent_container.length\n			) {\n				parent_container = $(parentVars.currentTarget).parents(\n					'.ld-lesson-navigation'\n				);\n				if (\n					'undefined' !== typeof parent_container &&\n					parent_container.length\n				) {\n					parentVars.context_sub = 'course_navigation_widget';\n					parentVars.parent_container = $(\n						parentVars.currentTarget\n					).parents('#ld-lesson-list-' + linkVars.course_id);\n				}\n			}\n\n			// Check if we are within the Focus Mode Sidebar.\n			if (\n				'undefined' === typeof parentVars.parent_container ||\n				!parentVars.parent_container.length\n			) {\n				parent_container = $(parentVars.currentTarget).parents(\n					'.ld-focus-sidebar-wrapper'\n				);\n				if (\n					'undefined' !== typeof parent_container &&\n					parent_container.length\n				) {\n					parentVars.context_sub = 'focus_mode_sidebar';\n					parentVars.parent_container = $(\n						parentVars.currentTarget\n					).parents('#ld-lesson-list-' + linkVars.course_id);\n				}\n			}\n\n			if (\n				'undefined' === typeof parentVars.parent_container ||\n				!parentVars.parent_container.length\n			) {\n				parentVars.parent_container = $(\n					parentVars.currentTarget\n				).closest(\n					'#ld-item-list-' + linkVars.course_id,\n					'#ld-lesson-list-' + linkVars.course_id\n				);\n			}\n			if (\n				'undefined' !== typeof parentVars.parent_container &&\n				parentVars.parent_container.length\n			) {\n				$(parentVars.parent_container).addClass('ld-loading');\n			} else {\n				// Fallback solution.\n				$('#ld-item-list-' + linkVars.course_id).addClass('ld-loading');\n				$('#ld-lesson-list-' + linkVars.course_id).addClass(\n					'ld-loading'\n				);\n			}\n		}\n\n		if ('profile' == linkVars.context) {\n			$('#ld-profile #ld-main-course-list').addClass('ld-loading');\n			linkVars.shortcode_instance =\n				$('#ld-profile').data('shortcode_instance');\n		}\n\n		if ('profile_quizzes' == linkVars.context) {\n			$(\n				'#ld-course-list-item-' +\n					linkVars.pager_results.quiz_course_id +\n					' .ld-item-contents'\n			).addClass('ld-loading');\n		}\n\n		if ('course_info_courses' == linkVars.context) {\n			$('.ld-user-status').addClass('ld-loading');\n			linkVars.shortcode_instance =\n				$('.ld-user-status').data('shortcode-atts');\n		}\n\n		if ('group_courses' == linkVars.context) {\n			linkVars.group_id = $(this).data('group_id');\n			if ('undefined' !== typeof linkVars.group_id) {\n				parent_container = $(parentVars.currentTarget).parents(\n					'.ld-group-courses-' + linkVars.group_id\n				);\n				if (\n					'undefined' !== typeof parent_container &&\n					parent_container.length\n				) {\n					$(parent_container).addClass('ld-loading');\n					parentVars.parent_container = parent_container;\n				}\n			}\n		}\n\n		$.ajax({\n			type: 'GET',\n			url: ldVars.ajaxurl + '?action=ld30_ajax_pager',\n			data: linkVars,\n			success(response) {\n				// If we have a course listing, update\n\n				if ('course_topics' == linkVars.context) {\n					if ($('#ld-topic-list-' + linkVars.lesson_id).length) {\n						if ('undefined' !== typeof response.data.topics) {\n							$('#ld-topic-list-' + linkVars.lesson_id).html(\n								response.data.topics\n							);\n						}\n\n						if ('undefined' !== typeof response.data.pager) {\n							$('#ld-expand-' + linkVars.lesson_id)\n								.find('.ld-table-list-footer')\n								.html(response.data.pager);\n						}\n\n						learndashSetMaxHeight(\n							$('.ld-lesson-item-' + linkVars.lesson_id).find(\n								'.ld-item-list-item-expanded'\n							)\n						);\n\n						$('#ld-topic-list-' + linkVars.lesson_id).removeClass(\n							'ld-loading'\n						);\n					}\n\n					if (\n						$('#ld-nav-content-list-' + linkVars.lesson_id).length\n					) {\n						if ('undefined' !== typeof response.data.nav_topics) {\n							$('#ld-nav-content-list-' + linkVars.lesson_id)\n								.find('.ld-table-list-items')\n								.html(response.data.topics);\n						}\n\n						if ('undefined' !== typeof response.data.pager) {\n							$('#ld-nav-content-list-' + linkVars.lesson_id)\n								.find('.ld-table-list-footer')\n								.html(response.data.pager);\n						}\n\n						$(\n							'#ld-nav-content-list-' + linkVars.lesson_id\n						).removeClass('ld-loading');\n					}\n				}\n\n				if ('course_content_shortcode' == linkVars.context) {\n					if ('undefined' !== typeof response.data.markup) {\n						if (\n							'undefined' !==\n								typeof parentVars.parent_container &&\n							parentVars.parent_container.length\n						) {\n							$(parentVars.parent_container).replaceWith(\n								response.data.markup\n							);\n						} else {\n							$(\n								'#learndash_post_' + linkVars.course_id\n							).replaceWith(response.data.markup);\n						}\n					}\n				} else if ('course_lessons' == linkVars.context) {\n					if (\n						'undefined' !== typeof parentVars.parent_container &&\n						parentVars.parent_container.length\n					) {\n						if (\n							'course_navigation_widget' == parentVars.context_sub\n						) {\n							if (\n								'undefined' !== typeof response.data.nav_lessons\n							) {\n								$(parentVars.parent_container)\n									.html(response.data.nav_lessons)\n									.removeClass('ld-loading');\n							}\n						} else if (\n							'focus_mode_sidebar' == parentVars.context_sub\n						) {\n							if (\n								'undefined' !== typeof response.data.nav_lessons\n							) {\n								$(parentVars.parent_container)\n									.html(response.data.nav_lessons)\n									.removeClass('ld-loading');\n							}\n						} else if (\n							'undefined' !== typeof response.data.lessons\n						) {\n							$(parentVars.parent_container)\n								.html(response.data.lessons)\n								.removeClass('ld-loading');\n						}\n					} else {\n						if ($('#ld-item-list-' + linkVars.course_id).length) {\n							if ('undefined' !== typeof response.data.lessons) {\n								$('#ld-item-list-' + linkVars.course_id)\n									.html(response.data.lessons)\n									.removeClass('ld-loading');\n							}\n						}\n\n						if ($('#ld-lesson-list-' + linkVars.course_id).length) {\n							if (\n								'undefined' !== typeof response.data.nav_lessons\n							) {\n								$('#ld-lesson-list-' + linkVars.course_id)\n									.html(response.data.nav_lessons)\n									.removeClass('ld-loading');\n							}\n						}\n					}\n				}\n\n				if ('group_courses' == linkVars.context) {\n					if (\n						'undefined' !== typeof parentVars.parent_container &&\n						parentVars.parent_container.length\n					) {\n						if ('undefined' !== typeof response.data.markup) {\n							$(parentVars.parent_container)\n								.html(response.data.markup)\n								.removeClass('ld-loading');\n						}\n					}\n				}\n\n				if ('profile' == linkVars.context) {\n					if ('undefined' !== typeof response.data.markup) {\n						$('#ld-profile').html(response.data.markup);\n					}\n				}\n\n				if ('profile_quizzes' == linkVars.context) {\n					if ('undefined' !== typeof response.data.markup) {\n						$(\n							'#ld-course-list-item-' +\n								linkVars.pager_results.quiz_course_id +\n								' .ld-item-list-item-expanded .ld-item-contents'\n						).replaceWith(response.data.markup);\n						$(\n							'#ld-course-list-item-' +\n								linkVars.pager_results.quiz_course_id\n						)\n							.get(0)\n							.scrollIntoView({ behavior: 'smooth' });\n					}\n				}\n\n				if ('course_info_courses' == linkVars.context) {\n					if ('undefined' !== typeof response.data.markup) {\n						$('.ld-user-status').replaceWith(response.data.markup);\n					}\n				}\n\n				$('body').trigger('ld_has_paginated');\n\n				initTooltips();\n			},\n		});\n	});\n\n	if ($('#learndash_timer').length) {\n		var timer_el = jQuery('#learndash_timer');\n		var timer_seconds = timer_el.attr('data-timer-seconds');\n		var timer_button_el = jQuery(timer_el.attr('data-button'));\n\n		var cookie_key = timer_el.attr('data-cookie-key');\n\n		if ('undefined' !== typeof cookie_key) {\n			var cookie_name = 'learndash_timer_cookie_' + cookie_key;\n		} else {\n			var cookie_name = 'learndash_timer_cookie';\n		}\n\n		cookie_timer_seconds = jQuery.cookie(cookie_name);\n\n		if ('undefined' !== typeof cookie_timer_seconds) {\n			timer_seconds = parseInt(cookie_timer_seconds);\n		}\n\n		if (0 == timer_seconds) {\n			$(timer_el).hide();\n		}\n\n		$(timer_button_el).on('learndash-time-finished', function () {\n			$(timer_el).hide();\n		});\n	}\n\n	$(document).on('learndash_video_disable_assets', function (event, status) {\n		if ('undefined' === typeof learndash_video_data) {\n			return false;\n		}\n\n		if ('BEFORE' == learndash_video_data.videos_shown) {\n			if (true == status) {\n				$('.ld-lesson-topic-list').hide();\n				$('.ld-lesson-navigation')\n					.find('#ld-nav-content-list-' + ldVars.postID)\n					.addClass('user_has_no_access');\n				$('.ld-quiz-list').hide();\n			} else {\n				$('.ld-lesson-topic-list').slideDown();\n				$('.ld-quiz-list').slideDown();\n				$('.ld-lesson-navigation')\n					.find('#ld-nav-content-list-' + ldVars.postID)\n					.removeClass('user_has_no_access');\n			}\n		}\n	});\n\n	$('.learndash-wrapper').on(\n		'click',\n		'.wpProQuiz_questionListItem input[type=\"radio\"]',\n		function (e) {\n			$(this)\n				.parents('.wpProQuiz_questionList')\n				.find('label')\n				.removeClass('is-selected');\n			$(this).parents('label').addClass('is-selected');\n		}\n	);\n\n	$('.learndash-wrapper').on(\n		'click',\n		'.wpProQuiz_questionListItem input[type=\"checkbox\"]',\n		function (e) {\n			if (jQuery(e.currentTarget).is(':checked')) {\n				$(this).parents('label').addClass('is-selected');\n			} else {\n				$(this).parents('label').removeClass('is-selected');\n			}\n		}\n	);\n\n	function learndash_ld30_show_user_statistic(e) {\n		e.preventDefault();\n\n		var refId = jQuery(this).data('ref-id');\n		var quizId = jQuery(this).data('quiz-id');\n		var userId = jQuery(this).data('user-id');\n		var statistic_nonce = jQuery(this).data('statistic-nonce');\n		var post_data = {\n			action: 'wp_pro_quiz_admin_ajax_statistic_load_user',\n			func: 'statisticLoadUser',\n			data: {\n				quizId,\n				userId,\n				refId,\n				statistic_nonce,\n				avg: 0,\n			},\n		};\n\n		jQuery('#wpProQuiz_user_overlay, #wpProQuiz_loadUserData').show();\n		var content = jQuery('#wpProQuiz_user_content').hide();\n\n		//console.log('- learndash.js');\n\n		jQuery.ajax({\n			type: 'POST',\n			url: ldVars.ajaxurl,\n			dataType: 'json',\n			cache: false,\n			data: post_data,\n			error(jqXHR, textStatus, errorThrown) {},\n			success(reply_data) {\n				if ('undefined' !== typeof reply_data.html) {\n					content.html(reply_data.html);\n					jQuery('#wpProQuiz_user_content').show();\n\n					//console.log('trigger event change - learndash.js');\n					jQuery('body').trigger(\n						'learndash-statistics-contentchanged'\n					);\n\n					jQuery('#wpProQuiz_loadUserData').hide();\n\n					content.find('.statistic_data').on('click', function () {\n						jQuery(this).parents('tr').next().toggle('fast');\n\n						return false;\n					});\n				}\n			},\n		});\n\n		jQuery('#wpProQuiz_overlay_close').on('click', function () {\n			jQuery('#wpProQuiz_user_overlay').hide();\n		});\n	}\n\n	function learndashSetMaxHeight(elm) {\n		var totalHeight = 0;\n\n		elm.find('> *').each(function () {\n			totalHeight += $(this).outerHeight();\n		});\n\n		elm.attr('data-height', '' + (totalHeight + 50) + '');\n\n		elm.css({\n			'max-height': totalHeight + 50,\n		});\n	}\n\n	/**\n	 * Will scroll the position of the Focus Mode sidebar\n	 * to the active step.\n	 */\n	function learndashFocusModeSidebarAutoScroll() {\n		if (jQuery('.learndash-wrapper .ld-focus').length) {\n			var sidebar_wrapper = jQuery(\n				'.learndash-wrapper .ld-focus .ld-focus-sidebar-wrapper'\n			);\n\n			var sidebar_current_topic = jQuery(\n				'.learndash-wrapper .ld-focus .ld-focus-sidebar-wrapper .ld-is-current-item'\n			);\n			if (\n				'undefined' !== typeof sidebar_current_topic &&\n				sidebar_current_topic.length\n			) {\n				var sidebar_scrollTo = sidebar_current_topic;\n			} else {\n				var sidebar_current_lesson = jQuery(\n					'.learndash-wrapper .ld-focus .ld-focus-sidebar-wrapper .ld-is-current-lesson'\n				);\n				if (\n					'undefined' !== typeof sidebar_current_lesson &&\n					sidebar_current_lesson.length\n				) {\n					var sidebar_scrollTo = sidebar_current_lesson;\n				}\n			}\n\n			if (\n				'undefined' !== typeof sidebar_scrollTo &&\n				sidebar_scrollTo.length\n			) {\n				var offset_top = 0;\n				if (\n					jQuery('.learndash-wrapper .ld-focus .ld-focus-header')\n						.length\n				) {\n					var logo_height = jQuery(\n						'.learndash-wrapper .ld-focus .ld-focus-header'\n					).height();\n					offset_top += logo_height;\n				}\n				if (\n					jQuery(\n						'.learndash-wrapper .ld-focus .ld-focus-sidebar .ld-course-navigation-heading'\n					).length\n				) {\n					var heading_height = jQuery(\n						'.learndash-wrapper .ld-focus .ld-focus-sidebar .ld-course-navigation-heading'\n					).height();\n					offset_top += heading_height;\n				}\n				if (\n					jQuery(\n						'.learndash-wrapper .ld-focus .ld-focus-sidebar .ld-focus-sidebar-wrapper'\n					).length\n				) {\n					var container_height = jQuery(\n						'.learndash-wrapper .ld-focus .ld-focus-sidebar .ld-focus-sidebar-wrapper'\n					).height();\n					offset_top += container_height;\n				}\n\n				var current_item_height = jQuery(sidebar_scrollTo).height();\n				offset_top -= current_item_height;\n\n				sidebar_wrapper.animate(\n					{\n						scrollTop: sidebar_scrollTo.offset().top - offset_top,\n					},\n					1000\n				);\n			}\n		}\n	}\n\n	// Coupon processing.\n\n	function update_payment_forms(data) {\n		$('#total-row').attr('data-total', data.total.value);\n\n		// Update PayPal form amount.\n		$('form[name=\"buynow\"] input[name=\"amount\"]').val(data.total.value);\n\n		// Update Stripe form amount.\n		$('form.learndash-stripe-checkout input[name=\"stripe_price\"]').val(\n			data.total.stripe_value\n		);\n\n		// Remove Stripe Connect session to respect the new amount.\n		const stripe_course_id = $(\n			'.learndash-stripe-checkout input[name=\"stripe_course_id\"]'\n		).val();\n\n		if (stripe_course_id) {\n			LD_Cookies.remove('ld_stripe_session_id_' + stripe_course_id); // Stripe Plugin (Checkout).\n			LD_Cookies.remove(\n				'ld_stripe_connect_session_id_' + stripe_course_id\n			); // Stripe Connect in core.\n		}\n\n		// Re-init Stripe Plugin (Legacy) to respect the new amount.\n		if (typeof ld_init_stripe_legacy === 'function') {\n			ld_init_stripe_legacy();\n		}\n	}\n\n	$('.btn-join').on('click', function (e) {\n		const total = parseFloat($('#total-row').attr('data-total'));\n\n		if (0 === total) {\n			$.ajax({\n				type: 'POST',\n				url: ldVars.ajaxurl,\n				dataType: 'json',\n				cache: false,\n				data: {\n					action: 'learndash_enroll_with_zero_price',\n					nonce: $('#apply-coupon-form').data('nonce'),\n					post_id: $('#apply-coupon-form').data('post-id'),\n				},\n				success(response) {\n					if (response.success) {\n						window.location.replace(response.data.redirect_url);\n					} else {\n						alert(response.data.message);\n					}\n				},\n			});\n\n			e.preventDefault();\n			return false;\n		}\n	});\n\n	$('#apply-coupon-form').on('submit', function (e) {\n		e.preventDefault();\n\n		$.ajax({\n			type: 'POST',\n			url: ldVars.ajaxurl,\n			dataType: 'json',\n			cache: false,\n			data: {\n				action: 'learndash_apply_coupon',\n				nonce: $(this).data('nonce'),\n				coupon_code: $(this).find('#coupon-field').val(),\n				post_id: $(this).data('post-id'),\n			},\n			success(response) {\n				$('#coupon-alerts .coupon-alert').hide();\n\n				const $alert = $('#coupon-alerts').find(\n					response.success\n						? '.coupon-alert-success'\n						: '.coupon-alert-warning'\n				);\n\n				const $coupon_row = $('#coupon-row');\n\n				if (response.success) {\n					$coupon_row\n						.find('.purchase-label > span')\n						.html(response.data.coupon_code); // Set coupon code in totals.\n					$coupon_row\n						.find('.purchase-value span')\n						.html(response.data.discount); // Set discount value in totals.\n					$coupon_row.css('display', 'flex').hide().fadeIn(); // Show a coupon row in totals.\n					$('#total-row .purchase-value').html(\n						response.data.total.formatted\n					); // Update Total.\n					$('#totals').show();\n\n					update_payment_forms(response.data);\n				}\n\n				$alert.find('.ld-alert-messages').html(response.data.message);\n				$alert.fadeIn();\n			},\n		});\n	});\n\n	$('#remove-coupon-form').on('submit', function (e) {\n		e.preventDefault();\n\n		$.ajax({\n			type: 'POST',\n			url: ldVars.ajaxurl,\n			dataType: 'json',\n			cache: false,\n			data: {\n				action: 'learndash_remove_coupon',\n				nonce: $(this).data('nonce'),\n				post_id: $(this).data('post-id'),\n			},\n			success(response) {\n				$('#coupon-alerts .coupon-alert').hide();\n\n				const $alert = $('#coupon-alerts').find(\n					response.success\n						? '.coupon-alert-success'\n						: '.coupon-alert-warning'\n				);\n\n				if (response.success) {\n					$('#coupon-row').hide(); // Hide a coupon row in totals.\n					$('#coupon-field').val(''); // Set coupon field empty.\n					$('#price-row .purchase-value').html(\n						response.data.total.formatted\n					); // Update Price.\n					$('#subtotal-row .purchase-value').html(\n						response.data.total.formatted\n					); // Update Subtotal.\n					$('#total-row .purchase-value').html(\n						response.data.total.formatted\n					); // Update Total.\n					$('#totals').hide();\n\n					update_payment_forms(response.data);\n				}\n\n				$alert.find('.ld-alert-messages').html(response.data.message);\n				$alert.fadeIn();\n			},\n		});\n	});\n});\n\nfunction ldGetUrlVars() {\n	var vars = {};\n	var parts = window.location.href.replace(\n		/[?&]+([^=&]+)=([^&]*)/gi,\n		function (m, key, value) {\n			vars[key] = value;\n		}\n	);\n\n	return vars;\n}\n";
var mod_pagespeed_nfhkf_6bCF = "!function(e){\"use strict\";\"function\"==typeof define&&define.amd?define([\"jquery\"],e):\"object\"==typeof module&&module.exports?module.exports=e(require(\"jquery\")):jQuery&&!jQuery.fn.hoverIntent&&e(jQuery)}(function(f){\"use strict\";function u(e){return\"function\"==typeof e}var i,r,v={interval:100,sensitivity:6,timeout:0},s=0,a=function(e){i=e.pageX,r=e.pageY},p=function(e,t,n,o){if(Math.sqrt((n.pX-i)*(n.pX-i)+(n.pY-r)*(n.pY-r))<o.sensitivity)return t.off(n.event,a),delete n.timeoutId,n.isActive=!0,e.pageX=i,e.pageY=r,delete n.pX,delete n.pY,o.over.apply(t[0],[e]);n.pX=i,n.pY=r,n.timeoutId=setTimeout(function(){p(e,t,n,o)},o.interval)};f.fn.hoverIntent=function(e,t,n){function o(e){var u=f.extend({},e),r=f(this),v=((t=r.data(\"hoverIntent\"))||r.data(\"hoverIntent\",t={}),t[i]),t=(v||(t[i]=v={id:i}),v.timeoutId&&(v.timeoutId=clearTimeout(v.timeoutId)),v.event=\"mousemove.hoverIntent.hoverIntent\"+i);\"mouseenter\"===e.type?v.isActive||(v.pX=u.pageX,v.pY=u.pageY,r.off(t,a).on(t,a),v.timeoutId=setTimeout(function(){p(u,r,v,d)},d.interval)):v.isActive&&(r.off(t,a),v.timeoutId=setTimeout(function(){var e,t,n,o,i;e=u,t=r,n=v,o=d.out,(i=t.data(\"hoverIntent\"))&&delete i[n.id],o.apply(t[0],[e])},d.timeout))}var i=s++,d=f.extend({},v);f.isPlainObject(e)?(d=f.extend(d,e),u(d.out)||(d.out=d.over)):d=u(t)?f.extend(d,{over:e,out:t,selector:n}):f.extend(d,{over:e,out:e,selector:t});return this.on({\"mouseenter.hoverIntent\":o,\"mouseleave.hoverIntent\":o},d.selector)}});";
